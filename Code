<?php
function isLeapYear($year) {
    if (!is_numeric($year)) {
        return "Ошибка: Год должен быть числом.";
    }
    if (($year % 4 == 0 && $year % 100 != 0) || $year % 400 == 0) {
        return true;
    } else {
        return false;
    }
}

function getDaysInMonth($month, $year) {
    if (!is_numeric($month) || !is_numeric($year)) {
        return "Ошибка: Месяц и год должны быть числами.";
    }
    if ($month < 1 || $month > 12) {
        return "Ошибка: Месяц должен быть в диапазоне от 1 до 12.";
    }

    $daysInMonth = 0;
    switch ($month) {
        case 2: // Февраль
            $daysInMonth = isLeapYear($year) ? 29 : 28;
            break;
        case 4:  // Апрель
        case 6:  // Июнь
        case 9:  // Сентябрь
        case 11: // Ноябрь
            $daysInMonth = 30;
            break;
        default: // Остальные месяцы
            $daysInMonth = 31;
    }
    return $daysInMonth;
}

// Получаем значения из GET-параметров
$month = isset($_GET['month']) ? $_GET['month'] : null;
$year = isset($_GET['year']) ? $_GET['year'] : null;
$leapYearResult = null;
$daysInMonthResult = null;

if ($month !== null && $year !== null) {
    $leapYearResult = isLeapYear($year);
    $daysInMonthResult = getDaysInMonth($month, $year);
}
?>

<!DOCTYPE html>
<html>
<head>
    <title>Високосный год и дни в месяце</title>
</head>
<body>
    <h1>Високосный год и дни в месяце</h1>
    <form method="get">
        <label for="month">Месяц (число от 1 до 12):</label>
        <input type="text" name="month" id="month" value="<?php echo htmlspecialchars($month); ?>"><br><br>

        <label for="year">Год:</label>
        <input type="text" name="year" id="year" value="<?php echo htmlspecialchars($year); ?>"><br><br>

        <input type="submit" value="Определить">
    </form>

    <?php if ($leapYearResult !== null && $daysInMonthResult !== null): ?>
        <h2>Результат:</h2>
        <p>Год <?php echo htmlspecialchars($year); ?> является високосным: <?php echo $leapYearResult === true ? 'Да' : 'Нет'; ?></p>
        <p>Количество дней в месяце <?php echo htmlspecialchars($month); ?>: <?php echo $daysInMonthResult; ?></p>
    <?php endif; ?>
</body>
</html>
